name: test-package
shortName: tstpkg
version: 1.0.0
resourceGroup: true
rgOverride: whilke-poc
parallelRegions: false
variables:
  test1: "[util.variable('test2','default')]"
  test2: value2
recipes:
  rec1:
    dependsOn:
    ingredients:
      webapp:
          type: software
          template: webapp
          parameters:
      custom:
          type: function
          template: customEval
          parameters:
  rec2:
      dependsOn: 
        - rec4
  rec3:
      dependsOn: 
        - rec1
      ingredients:
        storage1:
            type: infrastucture
            template: ./test/arm.json
            parameters:
  rec4:
      dependsOn:
        - rec1
      ingredients:
        storage2:
            type: infrastucture
            template: ./test/arm2.json
            parameters:
